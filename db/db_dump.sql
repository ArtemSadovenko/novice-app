--
-- PostgreSQL database dump
--

-- Dumped from database version 17.4 (Debian 17.4-1.pgdg120+2)
-- Dumped by pg_dump version 17.4 (Debian 17.4-1.pgdg120+2)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: room_details; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.room_details (
    id bigint NOT NULL,
    room_name character varying(255),
    round_number integer,
    round_status character varying(255),
    tournament_id bigint,
    CONSTRAINT room_details_round_status_check CHECK (((round_status)::text = ANY ((ARRAY['IN_PROGRESS'::character varying, 'COMPLETED'::character varying])::text[])))
);


ALTER TABLE public.room_details OWNER TO postgres;

--
-- Name: room_details_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.room_details ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.room_details_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: room_judges; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.room_judges (
    room_details_id bigint NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.room_judges OWNER TO postgres;

--
-- Name: room_positions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.room_positions (
    id bigint NOT NULL,
    "position" character varying(255) NOT NULL,
    room_details_id bigint,
    team_id bigint,
    CONSTRAINT room_positions_position_check CHECK ((("position")::text = ANY ((ARRAY['OPENING_PROPOSITION'::character varying, 'OPENING_OPPOSITION'::character varying, 'CLOSING_PROPOSITION'::character varying, 'CLOSING_OPPOSITION'::character varying])::text[])))
);


ALTER TABLE public.room_positions OWNER TO postgres;

--
-- Name: room_positions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.room_positions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.room_positions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: round_results; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.round_results (
    id bigint NOT NULL,
    place character varying(255) NOT NULL,
    room_details_id bigint,
    team_id bigint,
    CONSTRAINT round_results_place_check CHECK (((place)::text = ANY ((ARRAY['FIRST'::character varying, 'SECOND'::character varying, 'THIRD'::character varying, 'FOURTH'::character varying])::text[])))
);


ALTER TABLE public.round_results OWNER TO postgres;

--
-- Name: round_results_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.round_results ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.round_results_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: speaker_points; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.speaker_points (
    result_id bigint NOT NULL,
    points integer,
    user_id bigint NOT NULL
);


ALTER TABLE public.speaker_points OWNER TO postgres;

--
-- Name: team_users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.team_users (
    team_id bigint NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.team_users OWNER TO postgres;

--
-- Name: teams; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.teams (
    team_id bigint NOT NULL,
    name character varying(255) NOT NULL,
    team_points numeric(38,2) NOT NULL,
    tournament_id bigint
);


ALTER TABLE public.teams OWNER TO postgres;

--
-- Name: teams_team_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.teams ALTER COLUMN team_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.teams_team_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tournament_judges; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tournament_judges (
    tournament_id bigint NOT NULL,
    user_id bigint NOT NULL
);


ALTER TABLE public.tournament_judges OWNER TO postgres;

--
-- Name: tournament_topics; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tournament_topics (
    tournament_id bigint NOT NULL,
    topic character varying(255),
    round_number character varying(255) NOT NULL
);


ALTER TABLE public.tournament_topics OWNER TO postgres;

--
-- Name: tournaments; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tournaments (
    tournament_id bigint NOT NULL,
    name character varying(255) NOT NULL,
    tournament_status character varying(255) NOT NULL,
    CONSTRAINT tournaments_tournament_status_check CHECK (((tournament_status)::text = ANY ((ARRAY['NEW'::character varying, 'OPEN'::character varying, 'IN_PROGRESS'::character varying, 'CLOSED'::character varying])::text[])))
);


ALTER TABLE public.tournaments OWNER TO postgres;

--
-- Name: tournaments_tournament_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tournaments ALTER COLUMN tournament_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tournaments_tournament_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_roles (
    user_id bigint NOT NULL,
    user_role character varying(255),
    CONSTRAINT user_roles_user_role_check CHECK (((user_role)::text = ANY ((ARRAY['ADMIN'::character varying, 'USER'::character varying, 'GUEST'::character varying])::text[])))
);


ALTER TABLE public.user_roles OWNER TO postgres;

--
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    user_id bigint NOT NULL,
    average_score double precision,
    email character varying(255) NOT NULL,
    experience character varying(255) NOT NULL,
    password character varying(255) NOT NULL,
    username character varying(255) NOT NULL,
    CONSTRAINT users_experience_check CHECK (((experience)::text = ANY ((ARRAY['NOVICE'::character varying, 'EXPERIENCED'::character varying, 'OLD'::character varying])::text[])))
);


ALTER TABLE public.users OWNER TO postgres;

--
-- Name: users_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users ALTER COLUMN user_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: room_details; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.room_details (id, room_name, round_number, round_status, tournament_id) FROM stdin;
1	1	1	COMPLETED	1
2	2	1	COMPLETED	1
7	1	2	IN_PROGRESS	1
8	2	2	IN_PROGRESS	1
\.


--
-- Data for Name: room_judges; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.room_judges (room_details_id, user_id) FROM stdin;
1	61
2	60
7	61
8	60
\.


--
-- Data for Name: room_positions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.room_positions (id, "position", room_details_id, team_id) FROM stdin;
1	OPENING_PROPOSITION	1	5
2	OPENING_OPPOSITION	1	3
3	CLOSING_PROPOSITION	1	2
4	CLOSING_OPPOSITION	1	1
5	OPENING_PROPOSITION	2	4
16	OPENING_PROPOSITION	7	2
17	OPENING_OPPOSITION	7	4
18	CLOSING_PROPOSITION	7	5
19	CLOSING_OPPOSITION	7	1
20	OPENING_PROPOSITION	8	3
\.


--
-- Data for Name: round_results; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.round_results (id, place, room_details_id, team_id) FROM stdin;
1	FIRST	1	2
2	SECOND	1	1
3	THIRD	1	5
4	FOURTH	1	3
5	FIRST	2	4
\.


--
-- Data for Name: speaker_points; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.speaker_points (result_id, points, user_id) FROM stdin;
1	50	52
1	70	53
2	50	50
2	70	51
3	50	58
3	70	59
4	50	54
4	70	55
5	50	56
5	70	57
\.


--
-- Data for Name: team_users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.team_users (team_id, user_id) FROM stdin;
5	58
5	59
3	54
3	55
2	52
2	53
1	50
1	51
4	56
4	57
\.


--
-- Data for Name: teams; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.teams (team_id, name, team_points, tournament_id) FROM stdin;
3	Team3	0.00	1
5	Team5	1.00	1
2	Team2	3.00	1
1	Team1	2.00	1
4	Team4	3.00	1
\.


--
-- Data for Name: tournament_judges; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tournament_judges (tournament_id, user_id) FROM stdin;
1	60
1	61
\.


--
-- Data for Name: tournament_topics; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tournament_topics (tournament_id, topic, round_number) FROM stdin;
1	topic1	1
1	topic2	2
1	topic3	3
\.


--
-- Data for Name: tournaments; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tournaments (tournament_id, name, tournament_status) FROM stdin;
1	new_cup	NEW
\.


--
-- Data for Name: user_roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_roles (user_id, user_role) FROM stdin;
49	USER
49	ADMIN
50	USER
51	USER
52	USER
53	USER
54	USER
55	USER
56	USER
57	USER
58	USER
59	USER
60	USER
61	USER
62	USER
63	USER
63	ADMIN
64	USER
64	ADMIN
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users (user_id, average_score, email, experience, password, username) FROM stdin;
49	\N	admin@mail.com	NOVICE	$2a$10$OMc30rMyYKyNyEJYAfBh9uSn5q6WJ1XR6ABGiI.D1dxTiYtnMgyL.	admin
50	\N	mail1@mail.com	NOVICE	$2a$10$v20.AiUakakwlkyBKVyI9.Nnhn5bDWh3B6hrKf8dilkShaWN15xeu	team-1-member-1
51	\N	mail2@mail.com	NOVICE	$2a$10$pjeqBaS.fz7uW5nYC82cgewXtGSvR77b4Bxofujpvkb/6vb6j5xWq	team-1-member-2
52	\N	mail4@mail.com	NOVICE	$2a$10$Pr1MflDtgpJUqBdyXE3YF.2HdJh8AChVVSGAI.q1YEWmXHApVJrcW	team-2-member-2
53	\N	mail3@mail.com	NOVICE	$2a$10$MjF9VdZ6VCnw6.b3VHiSruFP65cH6hoWs9cz1xtSGSTgZSSxHxNcG	team-2-member-1
54	\N	mail6@mail.com	NOVICE	$2a$10$slLbMwfiImyTYIfUHzIEe.cJ8EhHjv/x9D5LGN3D1MwHocVva4hA6	team-3-member-1
55	\N	mail7@mail.com	NOVICE	$2a$10$CH7OCk69jEPrcAE3TQnlROnnlVZ56F9XS0bmmxLLoP6YCtexEvSdi	team-3-member-2
56	\N	mail8@mail.com	NOVICE	$2a$10$ndYZxUpVA2gXfjeVRbZHBejquhI0CHR0DzOHKQXZ2d7lDrHf/SM6.	team-4-member-1
57	\N	mail9@mail.com	NOVICE	$2a$10$/kV3Obst2CvhUjqz6vlpg.TEpH28x2jRxd.TP9ycSgwn431JSNzva	team-4-member-2
58	\N	mail10@mail.com	NOVICE	$2a$10$NCExGpi2205eD1lFzLJ7te.3dVWegmxRQ6OgtJd9AHlBpSNfhwhBa	team-5-member-1
59	\N	mail11@mail.com	NOVICE	$2a$10$QStbChgioioDS4zjqkKSY.iEGC8vCaf0mbtXY7j4F4iU7liBuE9Sa	team-5-member-2
60	\N	mail12@mail.com	NOVICE	$2a$10$z40b2bPcZVNUXf/l3snJIONYPUR9NTrOdGeEUZJnOPmemsKz2hth.	judge2
61	\N	test@gmail.com	NOVICE	$2a$10$ymYvdDxIKkgwqVtvszz/7O59NfP8MJul//bKSWl4GeIU3/b4P3sba	judge3
62	\N	test1@gmail.com	NOVICE	$2a$10$9r2T6VBTC180qoVH1fvpFOw94pec/BmIZQomc9ahvCNxHbeN/lVKG	simpleUser
63	\N	admin2@mail.com	NOVICE	$2a$10$1rfBNAFc3NAWycvK3jw9eeeIEJ6LvXh4YaDaNXzswB/1xi7Jj1Wxi	ADMIN
64	\N	sudo@mail.com	NOVICE	$2a$10$ypQADOqXiz/71iC6opKgGuztFJI2siZ3RWq2mBxAR09axVrUqDeTe	sudo
\.


--
-- Name: room_details_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.room_details_id_seq', 8, true);


--
-- Name: room_positions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.room_positions_id_seq', 20, true);


--
-- Name: round_results_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.round_results_id_seq', 5, true);


--
-- Name: teams_team_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.teams_team_id_seq', 5, true);


--
-- Name: tournaments_tournament_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tournaments_tournament_id_seq', 1, true);


--
-- Name: users_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_user_id_seq', 64, true);


--
-- Name: room_details room_details_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.room_details
    ADD CONSTRAINT room_details_pkey PRIMARY KEY (id);


--
-- Name: room_positions room_positions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.room_positions
    ADD CONSTRAINT room_positions_pkey PRIMARY KEY (id);


--
-- Name: round_results round_results_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.round_results
    ADD CONSTRAINT round_results_pkey PRIMARY KEY (id);


--
-- Name: speaker_points speaker_points_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.speaker_points
    ADD CONSTRAINT speaker_points_pkey PRIMARY KEY (result_id, user_id);


--
-- Name: teams teams_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teams
    ADD CONSTRAINT teams_pkey PRIMARY KEY (team_id);


--
-- Name: tournament_topics tournament_topics_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tournament_topics
    ADD CONSTRAINT tournament_topics_pkey PRIMARY KEY (tournament_id, round_number);


--
-- Name: tournaments tournaments_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tournaments
    ADD CONSTRAINT tournaments_pkey PRIMARY KEY (tournament_id);


--
-- Name: users uk6dotkott2kjsp8vw4d0m25fb7; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT uk6dotkott2kjsp8vw4d0m25fb7 UNIQUE (email);


--
-- Name: users ukr43af9ap4edm43mmtq01oddj6; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT ukr43af9ap4edm43mmtq01oddj6 UNIQUE (username);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (user_id);


--
-- Name: room_details fk5a17aesn4id6nwdtsomugbrhv; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.room_details
    ADD CONSTRAINT fk5a17aesn4id6nwdtsomugbrhv FOREIGN KEY (tournament_id) REFERENCES public.tournaments(tournament_id);


--
-- Name: tournament_topics fk6lx8bo2ww0bhc7eh8vpssfi5p; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tournament_topics
    ADD CONSTRAINT fk6lx8bo2ww0bhc7eh8vpssfi5p FOREIGN KEY (tournament_id) REFERENCES public.tournaments(tournament_id);


--
-- Name: speaker_points fk8u73smuqky2d6r473v5ni4qiu; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.speaker_points
    ADD CONSTRAINT fk8u73smuqky2d6r473v5ni4qiu FOREIGN KEY (result_id) REFERENCES public.round_results(id);


--
-- Name: round_results fk9yattrg1puxgpc2954hwdyy1y; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.round_results
    ADD CONSTRAINT fk9yattrg1puxgpc2954hwdyy1y FOREIGN KEY (room_details_id) REFERENCES public.room_details(id);


--
-- Name: team_users fkbwaxow4qly5mqr87ehjnff5l2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.team_users
    ADD CONSTRAINT fkbwaxow4qly5mqr87ehjnff5l2 FOREIGN KEY (team_id) REFERENCES public.teams(team_id);


--
-- Name: room_judges fkcxervid2pdcpvybgntfhnbyq4; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.room_judges
    ADD CONSTRAINT fkcxervid2pdcpvybgntfhnbyq4 FOREIGN KEY (room_details_id) REFERENCES public.room_details(id);


--
-- Name: room_judges fkfr2624nhymjvan4y0kr5lmkvj; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.room_judges
    ADD CONSTRAINT fkfr2624nhymjvan4y0kr5lmkvj FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- Name: round_results fkg0fhefjrj6rdvwc5q38hxsu1b; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.round_results
    ADD CONSTRAINT fkg0fhefjrj6rdvwc5q38hxsu1b FOREIGN KEY (team_id) REFERENCES public.teams(team_id);


--
-- Name: user_roles fkhfh9dx7w3ubf1co1vdev94g3f; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_roles
    ADD CONSTRAINT fkhfh9dx7w3ubf1co1vdev94g3f FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- Name: tournament_judges fki3ga0q1v18vd0btj139udk09n; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tournament_judges
    ADD CONSTRAINT fki3ga0q1v18vd0btj139udk09n FOREIGN KEY (tournament_id) REFERENCES public.tournaments(tournament_id);


--
-- Name: room_positions fkiu2246vdguy3x0yxbg9kit9dm; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.room_positions
    ADD CONSTRAINT fkiu2246vdguy3x0yxbg9kit9dm FOREIGN KEY (room_details_id) REFERENCES public.room_details(id);


--
-- Name: teams fko5qehaxeuk4i5bxwpf20dvcws; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.teams
    ADD CONSTRAINT fko5qehaxeuk4i5bxwpf20dvcws FOREIGN KEY (tournament_id) REFERENCES public.tournaments(tournament_id);


--
-- Name: team_users fkq5kde75x24rqmpev4dsp1g2qv; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.team_users
    ADD CONSTRAINT fkq5kde75x24rqmpev4dsp1g2qv FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- Name: room_positions fks5vu7qqwq8ifcfswxlbdpv5go; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.room_positions
    ADD CONSTRAINT fks5vu7qqwq8ifcfswxlbdpv5go FOREIGN KEY (team_id) REFERENCES public.teams(team_id);


--
-- Name: tournament_judges fktqpr3arb2uuhgv0sc74vi23g; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tournament_judges
    ADD CONSTRAINT fktqpr3arb2uuhgv0sc74vi23g FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- PostgreSQL database dump complete
--

